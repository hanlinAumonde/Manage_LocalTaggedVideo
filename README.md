# 视频标签管理器

## 简介

这是一个用于本地视频文件查看和搜索的简单小工具，使用MongoDB数据库存储和检索视频文件的标签信息，允许为视频添加标签、并以标签为单位搜索视频。

## 系统要求

- Python 3.11+
- MongoDB数据库
  - 直接在本地运行（端口27017）
  - 或通过Docker自动启动（会自动检测并启动Docker容器）
- 必要的Python库：
  ```
  pymongo==4.12.1
  tkinterdnd2==0.4.3
  pyinstaller==6.13.0 (如需打包为可执行文件)
  ```

- 使用pyinstaller用以下命令打包exe可执行文件
```
pyinstaller --noconfirm --onefile --windowed --icon "/path-to-yout-ico.ico" --name "app-name" "/path-to-main.py"
```

## 主要功能

### 文件浏览

在"文件浏览"标签页中，您可以：

1. **浏览本地文件**：导航您的文件系统并查看视频文件
2. **文件排序**：按名称、大小或修改时间排序
3. **文件搜索**：在当前目录中搜索文件
4. **标签管理**：为视频添加或移除标签
5. **文件操作**：创建文件夹、删除文件等

### 标签管理

在"标签管理"标签页中，您可以：

1. **查看热门标签**：显示使用最多的标签（最多50个）
2. **按标签搜索**：查找带有指定标签的所有视频
   - 支持单标签搜索
   - 支持多标签联合搜索（同时包含多个指定标签的视频）
3. **标签建议功能**：输入时自动提供相关标签建议

## 使用方法

### 浏览文件

1. 点击"浏览"按钮选择一个目录
2. 双击文件夹进入该文件夹
3. 使用"返回"按钮回到上一级目录
4. 使用搜索框根据名称查找文件

### 标签操作

#### 添加标签

1. 在文件浏览页面选择一个或多个视频文件
2. 点击"为选中文件添加标签"按钮
3. 在弹出的对话框中：
   - 如果希望保留现有标签，保持"保留现有标签"复选框选中
   - 在输入框中输入标签，用逗号分隔多个标签
   - 可以点击热门标签或标签建议快速添加
4. 点击"保存标签"按钮确认

#### 移除标签

1. 在文件浏览页面选择一个或多个视频文件
2. 点击"移除标签"按钮
3. 确认移除操作

### 标签搜索

1. 切换到"标签管理"标签页
2. 在"按标签搜索"部分输入标签名称
   - 单标签搜索: 直接输入标签名称
   - 多标签搜索: 输入多个标签，用逗号分隔（例如：动作,冒险,2023）
   - 标签输入时会有智能提示建议
3. 点击"搜索"按钮
4. 结果将在文件浏览页面中显示

## 常见操作

### 文件拖放

可以直接将视频文件拖放到应用程序中，文件将被移动到当前打开的目录中。

### 右键菜单

右键点击文件或文件夹可以打开上下文菜单，提供以下选项：
- 对于文件夹：打开文件夹、删除
- 对于文件：打开文件、添加标签、移除标签、删除

### 快捷键

- **Delete键**：删除选中的文件或文件夹
- **双击**：打开文件或进入文件夹

## 数据库集成

应用程序使用MongoDB存储标签信息。如果本地未运行MongoDB，应用程序会尝试使用Docker创建和启动MongoDB容器。

当应用程序关闭时，如果是由应用程序自动启动的MongoDB Docker容器，该容器将被自动关闭。




